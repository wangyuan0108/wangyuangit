<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>智能社--http://www.zhinengshe.com</title>
    <style>
    </style>
    <script>
        window.onload = function () {
            var oT=document.getElementById('search');
            var oUl=document.getElementById('ul1');

            oT.onkeyup=function(){
                jsonp('https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su',{
                    wd: oT.value
                }, function(json){
                    console.log(json.s);
                });
            };
            function jsonp(url, data, success){
                var fnName='show'+Math.random();
                fnName=fnName.replace('.', '');
                window[fnName]=function(json){
                    // 回调函数，当服务器返回数据时，调用fnName这个函数，fnName调用success
                    success && success(json);
                };
                var arr=[];
                for(var name in data){
                    arr.push(name+'='+data[name]);
                }
                var str=arr.join('&');
                var oS=document.createElement('script');
                oS.src=url+'?'+str+'&cb='+fnName;
                var oHead=document.getElementsByTagName('head')[0];
                oHead.appendChild(oS);
            }
        };
    </script>
</head>
<body>
<input type="text" id="search">
<ul id="ul1">
</ul>
</body>
</html>















